{"ast":null,"code":"import _defineProperty from \"/Users/leonardo.moreto/Documents/Desafio_React/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/leonardo.moreto/Documents/Desafio_React/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/leonardo.moreto/Documents/Desafio_React/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/leonardo.moreto/Documents/Desafio_React/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/leonardo.moreto/Documents/Desafio_React/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/leonardo.moreto/Documents/Desafio_React/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/leonardo.moreto/Documents/Desafio_React/src/App.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nvar endPoint = 'http://localhost:3000/';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      currentTab: 'lists',\n      typeLists: 'all',\n      todos: [],\n      fieldName: '',\n      fieldJob: '',\n      fieldDescription: ''\n    };\n\n    _this.handleChange = function (name) {\n      return function (event) {\n        _this.setState(_defineProperty({}, name, event.target.value));\n      };\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.queryTodos();\n    }\n  }, {\n    key: \"queryTodos\",\n    value: function queryTodos() {\n      var _this2 = this;\n\n      var path = \"\".concat(endPoint, \"todos\");\n\n      if (this.state.typeLists !== 'all') {\n        path = path + \"/\".concat(this.state.typeLists);\n      }\n\n      axios.get(path).then(function (response) {\n        _this2.populateTodos(response.data.reverse());\n\n        console.log(JSON.stringify(response.data));\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"markDone\",\n    value: function markDone(id) {\n      var _this3 = this;\n\n      axios.put(\"\".concat(endPoint, \"todos/markDone\"), {\n        id: id,\n        done: true\n      }).then(function (response) {\n        alert(\"Todo Finalizado com sucesso!\");\n\n        _this3.queryTodos();\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"createTodo\",\n    value: function createTodo() {\n      var _this4 = this;\n\n      if (this.state.fieldName === '' || this.state.fieldJob === '' || this.state.fieldDescription === '') {\n        alert(\"Você precisa preencher todos os campos\");\n        return;\n      }\n\n      axios.post(\"\".concat(endPoint, \"todos\"), {\n        description: this.state.fieldDescription,\n        owner: {\n          name: this.state.fieldName,\n          job_title: this.state.fieldJob\n        }\n      }).then(function (response) {\n        _this4.setState({\n          fieldName: '',\n          fieldJob: '',\n          fieldDescription: '',\n          currentTab: 'lists',\n          typeLists: 'all'\n        }, function () {\n          _this4.queryTodos();\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"populateTodos\",\n    value: function populateTodos(todos) {\n      this.setState({\n        todos: todos\n      });\n    }\n  }, {\n    key: \"changeTabs\",\n    value: function changeTabs(currentTab, typeLists) {\n      var _this5 = this;\n\n      this.setState({\n        currentTab: currentTab,\n        typeLists: typeLists\n      }, function () {\n        if (_this5.state.currentTab !== \"add\") {\n          _this5.queryTodos();\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"nav\", {\n        className: \"navbar navbar-expand-lg navbar-dark bg-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"navbar-brand\",\n        href: \"#\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"DESAFIO TODO\"), React.createElement(\"button\", {\n        className: \"navbar-toggler\",\n        type: \"button\",\n        \"data-toggle\": \"collapse\",\n        \"data-target\": \"#navbarNavAltMarkup\",\n        \"aria-controls\": \"navbarNavAltMarkup\",\n        \"aria-expanded\": \"false\",\n        \"aria-label\": \"Toggle navigation\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"navbar-toggler-icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"collapse navbar-collapse\",\n        id: \"navbarNavAltMarkup\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"navbar-nav\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"nav-item nav-link\",\n        onClick: function onClick() {\n          return _this6.changeTabs('lists', 'all');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"Todos\"), React.createElement(\"a\", {\n        className: \"nav-item nav-link\",\n        onClick: function onClick() {\n          return _this6.changeTabs('lists', 'pending');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"Em andamento\"), React.createElement(\"a\", {\n        className: \"nav-item nav-link\",\n        onClick: function onClick() {\n          return _this6.changeTabs('lists', 'done');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \"Finalizados\"), React.createElement(\"a\", {\n        className: \"nav-item nav-link\",\n        onClick: function onClick() {\n          return _this6.changeTabs('add', null);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"Criar novo\")))))), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }))), this.state.currentTab === 'lists' && React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        className: \"list-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, this.state.todos.map(function (item) {\n        return React.createElement(\"li\", {\n          className: item.done ? \"list-group-item list-group-item-success\" : \"list-group-item\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          },\n          __self: this\n        }, React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          },\n          __self: this\n        }, item.description), \" \", React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          },\n          __self: this\n        }, item.owner.name, \" - \", item.owner.job_title), !item.done && React.createElement(\"button\", {\n          type: \"button\",\n          class: \"btn btn-outline-success float-right\",\n          onClick: function onClick() {\n            return _this6.markDone(item._id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          },\n          __self: this\n        }, \"Finalizar\"));\n      })))), this.state.currentTab === 'add' && React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"exampleFormControlInput1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"Descricao\"), React.createElement(\"input\", {\n        type: \"text\",\n        class: \"form-control\",\n        placeholder: \"Ex: Fazer deploy\",\n        value: this.state.fieldDescription,\n        onChange: this.handleChange('fieldDescription'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"exampleFormControlInput2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"Nome:\"), React.createElement(\"input\", {\n        type: \"text\",\n        class: \"form-control\",\n        placeholder: \"Ex: Leo Cunha\",\n        value: this.state.fieldName,\n        onChange: this.handleChange('fieldName'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"exampleFormControlInput1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \"Cargo:\"), React.createElement(\"input\", {\n        type: \"text\",\n        class: \"form-control\",\n        placeholder: \"Ex: FullStack\",\n        value: this.state.fieldJob,\n        onChange: this.handleChange('fieldJob'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        class: \"btn btn-primary\",\n        type: \"button\",\n        value: \"Criar Todo\",\n        onClick: function onClick() {\n          return _this6.createTodo();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }))))));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/leonardo.moreto/Documents/Desafio_React/src/App.js"],"names":["React","Component","axios","endPoint","App","state","currentTab","typeLists","todos","fieldName","fieldJob","fieldDescription","handleChange","name","event","setState","target","value","queryTodos","path","get","then","response","populateTodos","data","reverse","console","log","JSON","stringify","catch","error","id","put","done","alert","post","description","owner","job_title","changeTabs","map","item","markDone","_id","createTodo"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\nconst endPoint = 'http://localhost:3000/';\n\nclass App extends Component {\n\n  state = {\n    currentTab: 'lists',\n    typeLists: 'all',\n    todos: [],\n    fieldName: '',\n    fieldJob: '',\n    fieldDescription: ''\n  };\n\n  componentDidMount(){\n    this.queryTodos();\n  }\n\n  queryTodos(){\n    var path = `${endPoint}todos`;\n    if(this.state.typeLists !== 'all'){ path = path+`/${this.state.typeLists}`; }\n    axios.get(path)\n      .then(response =>{\n        this.populateTodos(response.data.reverse());\n        console.log(JSON.stringify(response.data));\n      })\n      .catch(error =>{\n        console.log(error);\n      })\n  }\n\n  markDone(id){\n    axios.put(`${endPoint}todos/markDone`, {\n      id,\n      done: true\n    })\n      .then(response =>{\n        alert(\"Todo Finalizado com sucesso!\");\n        this.queryTodos();\n      })\n      .catch(error =>{\n        console.log(error);\n      });\n  }\n\n  createTodo(){\n    if(this.state.fieldName === '' || this.state.fieldJob === '' || this.state.fieldDescription === ''){\n      alert(\"Você precisa preencher todos os campos\");\n      return;\n    }\n    axios.post(`${endPoint}todos`, {\n      description: this.state.fieldDescription,\n      owner: {name:this.state.fieldName, job_title:this.state.fieldJob}\n    })\n      .then(response =>{\n        this.setState({ fieldName:'', fieldJob:'', fieldDescription:'', currentTab: 'lists', typeLists: 'all' }, () => {\n          this.queryTodos();\n        });\n      })\n      .catch(error =>{\n        console.log(error);\n      });\n  }\n\n  populateTodos(todos){\n    this.setState({ todos });\n  }\n\n  changeTabs(currentTab, typeLists){\n    this.setState({ currentTab,typeLists }, () => {\n      if(this.state.currentTab !== \"add\"){ this.queryTodos() }\n    });\n  }\n\n  handleChange = name => event => {\n    this.setState({\n      [name]: event.target.value,\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"container\">\n\n        <div className=\"row\">\n          <div className=\"col-sm\">\n            <nav className=\"navbar navbar-expand-lg navbar-dark bg-primary\">\n              <a className=\"navbar-brand\" href=\"#\">DESAFIO TODO</a>\n              <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNavAltMarkup\" aria-controls=\"navbarNavAltMarkup\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                <span className=\"navbar-toggler-icon\"></span>\n              </button>\n              <div className=\"collapse navbar-collapse\" id=\"navbarNavAltMarkup\">\n                <div className=\"navbar-nav\">\n                  <a className=\"nav-item nav-link\" onClick={() => this.changeTabs('lists','all')}>Todos</a>\n                  <a className=\"nav-item nav-link\" onClick={() => this.changeTabs('lists','pending')}>Em andamento</a>\n                  <a className=\"nav-item nav-link\" onClick={() => this.changeTabs('lists','done')}>Finalizados</a>\n                  <a className=\"nav-item nav-link\" onClick={() => this.changeTabs('add', null)}>Criar novo</a>\n                </div>\n              </div>\n            </nav>\n          </div>\n        </div>\n\n        <div className=\"row\">\n          <div className=\"col-sm\">\n            <br/>\n          </div>\n        </div>\n\n        {this.state.currentTab === 'lists' && (\n          <div className=\"row\">\n            <div className=\"col-sm\">\n              <ul className=\"list-group\">\n                {this.state.todos.map((item) => (\n                  <li className={item.done ? \"list-group-item list-group-item-success\" : \"list-group-item\"}><b>{item.description}</b> <p>{item.owner.name} - {item.owner.job_title}</p>{!item.done && (<button type=\"button\" class=\"btn btn-outline-success float-right\" onClick={() => this.markDone(item._id)}>Finalizar</button>)}</li>\n                ))\n                }\n              </ul>\n            </div>\n          </div>\n        )}\n\n        {this.state.currentTab === 'add' && (\n          <div className=\"row\">\n            <div className=\"col-sm\">\n              <form>\n                <div className=\"form-group\">\n                  <label htmlFor=\"exampleFormControlInput1\">Descricao</label>\n                  <input type=\"text\" class=\"form-control\" placeholder=\"Ex: Fazer deploy\" value={this.state.fieldDescription} onChange={this.handleChange('fieldDescription')}/>\n                </div>\n                <div className=\"form-group\">\n                  <label htmlFor=\"exampleFormControlInput2\">Nome:</label>\n                  <input type=\"text\" class=\"form-control\" placeholder=\"Ex: Leo Cunha\" value={this.state.fieldName} onChange={this.handleChange('fieldName')}/>\n                </div>\n                <div className=\"form-group\">\n                  <label htmlFor=\"exampleFormControlInput1\">Cargo:</label>\n                  <input type=\"text\" class=\"form-control\" placeholder=\"Ex: FullStack\" value={this.state.fieldJob} onChange={this.handleChange('fieldJob')}/>\n                </div>\n                <div className=\"form-group\">\n                  <input class=\"btn btn-primary\" type=\"button\" value=\"Criar Todo\" onClick={() => this.createTodo()}/>\n                </div>\n              </form>\n            </div>\n          </div>\n        )}\n\n\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}